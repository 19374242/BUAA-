# 总结感想

本次编译实验课对我来说可谓是痛苦与快乐并存。在选择编程语言的时候，我本来想要挑战一下自己，选择自己所不熟悉的c++，可是经过咨询学长和助教，了解到c++可能出各种bug，而且编译实验代码量和难度极大，我马上改变了注意，决定使用自己较为熟悉的java语言。事实证明，这个决策非常的英明！

最开始的三个实验：文法解读、词法分析、语法分析、错误处理对我来说真的很简单，甚至一度有了编译不过如此的想法，但是从代码生成开始，我就遇到了巨大的困难。我先是发现语法分析时候的语法树有着很多的缺陷，我花费了大量的时间在用我自己不完善的语法树生成中间代码，出现了巨多的bug，在挣扎了一星期以后，我才精疲力竭地决定重新规范生成AST语法树，在生成中间代码以后，我以为胜利就在眼前，没想到mips生成又给了我当头一棒，很多指令我都写的非常复杂（后来才知道有很简单的我不知道的mips指令），导致出现了很多很多错误，我无数次深深地后悔我为什么要选择mips，而不是难度较小的llvm，情绪也面临崩溃。好在经过几个星期的努力，最终还是把代码生成做了出来。而优化对我来说也有着很大的难度，全局寄存器分配的实现也让我筋疲力竭，但是当真正实现了所有的内容，并获得了令我满意的竞速成绩后，我回顾这整一个编译实验，还是感觉受益良多。尤其是认识到代码风格和命名的重要性，在代码规模增加时，如果有一个良好的函数名称及注释，在决定是否调用的时候会有着很大的帮助。

总而言之，我认为编译这门实验课可以说是设计的非常精彩，在各方面对我都有着很大的帮助，也让我获得了写出一个编译器的成就感，当然，结合我自己的实验过程，我也想对课程组提一个小小的建议，就是是否能在代码生成前加一个中间代码生成的测评，并规定中间代码格式。因为我在这一块投入了大量无意义的时间，感觉如果能有这个步骤，会使编译器的开发更加顺利。